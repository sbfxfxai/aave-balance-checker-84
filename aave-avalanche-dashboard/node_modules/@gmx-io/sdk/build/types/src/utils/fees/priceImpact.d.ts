import { MarketInfo } from "../../types/markets";
import { TokenData } from "../../types/tokens";
import { TradeFees } from "../../types/trade";
export declare function getPriceImpactByAcceptablePrice(p: {
    sizeDeltaUsd: bigint;
    acceptablePrice: bigint;
    indexPrice: bigint;
    isLong: boolean;
    isIncrease: boolean;
}): {
    priceImpactDeltaUsd: bigint;
    priceImpactDeltaAmount: bigint;
    priceDelta: bigint;
    acceptablePriceDeltaBps: bigint;
};
export declare function applySwapImpactWithCap(marketInfo: MarketInfo, token: TokenData, priceImpactDeltaUsd: bigint): {
    impactDeltaAmount: bigint;
    cappedDiffUsd: bigint;
};
export declare function getCappedPositionImpactUsd(marketInfo: MarketInfo, sizeDeltaUsd: bigint, isLong: boolean, isIncrease: boolean, opts?: {
    fallbackToZero?: boolean;
    shouldCapNegativeImpact?: boolean;
}): {
    priceImpactDeltaUsd: bigint;
    balanceWasImproved: boolean;
};
export declare function capPositionImpactUsdByMaxImpactPool(marketInfo: MarketInfo, positionImpactDeltaUsd: bigint): bigint;
export declare function capPositionImpactUsdByMaxPriceImpactFactor(marketInfo: MarketInfo, sizeDeltaUsd: bigint, positionImpactDeltaUsd: bigint): bigint;
export declare function getMaxPositionImpactFactors(marketInfo: MarketInfo): {
    maxPositiveImpactFactor: bigint;
    maxNegativeImpactFactor: bigint;
};
export declare function getPriceImpactForPosition(marketInfo: MarketInfo, sizeDeltaUsd: bigint, isLong: boolean, opts?: {
    fallbackToZero?: boolean;
}): {
    priceImpactDeltaUsd: bigint;
    balanceWasImproved: boolean;
};
export declare function getProportionalPendingImpactValues({ sizeInUsd, pendingImpactAmount, sizeDeltaUsd, indexToken, }: {
    sizeInUsd: bigint;
    pendingImpactAmount: bigint;
    sizeDeltaUsd: bigint;
    indexToken: TokenData;
}): {
    proportionalPendingImpactDeltaAmount: bigint;
    proportionalPendingImpactDeltaUsd: bigint;
};
export declare function getPriceImpactForSwap(marketInfo: MarketInfo, tokenA: TokenData, tokenB: TokenData, usdDeltaTokenA: bigint, usdDeltaTokenB: bigint, opts?: {
    fallbackToZero?: boolean;
}): {
    priceImpactDeltaUsd: bigint;
    balanceWasImproved: boolean;
};
export declare function getNextPoolAmountsParams(p: {
    longToken: TokenData;
    shortToken: TokenData;
    longPoolAmount: bigint;
    shortPoolAmount: bigint;
    longDeltaUsd: bigint;
    shortDeltaUsd: bigint;
}): {
    longPoolUsd: bigint;
    shortPoolUsd: bigint;
    nextLongPoolUsd: bigint;
    nextShortPoolUsd: bigint;
};
/**
 * @see https://github.com/gmx-io/gmx-synthetics/blob/updates/contracts/pricing/SwapPricingUtils.sol
 */
export declare function getPriceImpactUsd(p: {
    currentLongUsd: bigint;
    currentShortUsd: bigint;
    nextLongUsd: bigint;
    nextShortUsd: bigint;
    factorPositive: bigint;
    factorNegative: bigint;
    exponentFactorPositive: bigint;
    exponentFactorNegative: bigint;
    fallbackToZero?: boolean;
}): {
    priceImpactDeltaUsd: bigint;
    balanceWasImproved: boolean;
};
/**
 *  @see https://github.com/gmx-io/gmx-synthetics/blob/5fd9991ff2c37ae5f24f03bc9c132730b012ebf2/contracts/pricing/PricingUtils.sol
 */
export declare function calculateImpactForSameSideRebalance(p: {
    currentDiff: bigint;
    nextDiff: bigint;
    hasPositiveImpact: boolean;
    factor: bigint;
    exponentFactor: bigint;
}): bigint;
/**
 *  @see  https://github.com/gmx-io/gmx-synthetics/blob/5fd9991ff2c37ae5f24f03bc9c132730b012ebf2/contracts/pricing/PricingUtils.sol
 */
export declare function calculateImpactForCrossoverRebalance(p: {
    currentDiff: bigint;
    nextDiff: bigint;
    factorPositive: bigint;
    factorNegative: bigint;
    exponentFactorPositive: bigint;
    exponentFactorNegative: bigint;
}): bigint;
export declare function applyImpactFactor(diff: bigint, factor: bigint, exponent: bigint): bigint;
export declare function getCappedPriceImpactPercentageFromFees({ fees, isSwap, }: {
    fees: TradeFees | undefined;
    isSwap: boolean;
}): bigint | undefined;
