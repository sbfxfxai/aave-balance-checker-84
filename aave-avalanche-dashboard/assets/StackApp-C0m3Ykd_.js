var we=Object.defineProperty;var Se=(r,t,s)=>t in r?we(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var E=(r,t,s)=>Se(r,typeof t!="symbol"?t+"":t,s);import{c as O,u as Ce,d as Pe,j as e,e as $,f as ke,g as I,h as F,I as Re,i as _,k as De,l as Ie,m as Ae,n as qe,o as Ee,p as B,q as _e,r as G,s as K,O as V}from"./ui-vendor-BOJFGSg8.js";import{r as c,L as Fe}from"./react-vendor-DCm_z5L5.js";import{L as D,B as N,T as Le}from"./button-BxxP0glo.js";import{L as H,I as Me,C as S,a as C,b as P,Z as ze,c as z,d as k,D as Te}from"./input-CQ5NrkaN.js";import{c as b,a as w,X as Ue,u as X}from"./index-CW71wpqh.js";import{_ as Oe}from"./web3-vendor-EwTGHx8d.js";import"./chart-vendor-Ca7Fwevv.js";import"./query-vendor-CtJszEQq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=b("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=b("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=b("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=b("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=b("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=b("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=b("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var L="Radio",[Je,J]=$(L),[Ye,We]=Je(L),Y=c.forwardRef((r,t)=>{const{__scopeRadio:s,name:i,checked:o=!1,required:l,disabled:n,value:d="on",onCheck:p,form:x,...u}=r,[a,f]=c.useState(null),g=F(t,v=>f(v)),m=c.useRef(!1),y=a?x||!!a.closest("form"):!0;return e.jsxs(Ye,{scope:s,checked:o,disabled:n,children:[e.jsx(I.button,{type:"button",role:"radio","aria-checked":o,"data-state":ee(o),"data-disabled":n?"":void 0,disabled:n,value:d,...u,ref:g,onClick:_(r.onClick,v=>{o||p?.(),y&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})}),y&&e.jsx(Z,{control:a,bubbles:!m.current,name:i,value:d,checked:o,required:l,disabled:n,form:x,style:{transform:"translateX(-100%)"}})]})});Y.displayName=L;var W="RadioIndicator",Q=c.forwardRef((r,t)=>{const{__scopeRadio:s,forceMount:i,...o}=r,l=We(W,s);return e.jsx(De,{present:i||l.checked,children:e.jsx(I.span,{"data-state":ee(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})})});Q.displayName=W;var Qe="RadioBubbleInput",Z=c.forwardRef(({__scopeRadio:r,control:t,checked:s,bubbles:i=!0,...o},l)=>{const n=c.useRef(null),d=F(n,l),p=Ie(s),x=Ae(t);return c.useEffect(()=>{const u=n.current;if(!u)return;const a=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(a,"checked").set;if(p!==s&&g){const m=new Event("click",{bubbles:i});g.call(u,s),u.dispatchEvent(m)}},[p,s,i]),e.jsx(I.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:d,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Z.displayName=Qe;function ee(r){return r?"checked":"unchecked"}var Ze=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[es]=$(A,[O,J]),se=O(),te=J(),[ss,ts]=es(A),re=c.forwardRef((r,t)=>{const{__scopeRadioGroup:s,name:i,defaultValue:o,value:l,required:n=!1,disabled:d=!1,orientation:p,dir:x,loop:u=!0,onValueChange:a,...f}=r,g=se(s),m=Ce(x),[y,v]=Pe({prop:l,defaultProp:o??null,onChange:a,caller:A});return e.jsx(ss,{scope:s,name:i,required:n,disabled:d,value:y,onValueChange:v,children:e.jsx(ke,{asChild:!0,...g,orientation:p,dir:m,loop:u,children:e.jsx(I.div,{role:"radiogroup","aria-required":n,"aria-orientation":p,"data-disabled":d?"":void 0,dir:m,...f,ref:t})})})});re.displayName=A;var ae="RadioGroupItem",oe=c.forwardRef((r,t)=>{const{__scopeRadioGroup:s,disabled:i,...o}=r,l=ts(ae,s),n=l.disabled||i,d=se(s),p=te(s),x=c.useRef(null),u=F(t,x),a=l.value===o.value,f=c.useRef(!1);return c.useEffect(()=>{const g=y=>{Ze.includes(y.key)&&(f.current=!0)},m=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",m)}},[]),e.jsx(Re,{asChild:!0,...d,focusable:!n,active:a,children:e.jsx(Y,{disabled:n,required:l.required,checked:a,...p,...o,name:l.name,ref:u,onCheck:()=>l.onValueChange(o.value),onKeyDown:_(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:_(o.onFocus,()=>{f.current&&x.current?.click()})})})});oe.displayName=ae;var rs="RadioGroupIndicator",ne=c.forwardRef((r,t)=>{const{__scopeRadioGroup:s,...i}=r,o=te(s);return e.jsx(Q,{...o,...i,ref:t})});ne.displayName=rs;var ie=re,ce=oe,as=ne;const le=c.forwardRef(({className:r,...t},s)=>e.jsx(ie,{className:w("grid gap-2",r),...t,ref:s}));le.displayName=ie.displayName;const de=c.forwardRef(({className:r,...t},s)=>e.jsx(ce,{ref:s,className:w("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:e.jsx(as,{className:"flex items-center justify-center",children:e.jsx(Ve,{className:"h-2.5 w-2.5 fill-current text-current"})})}));de.displayName=ce.displayName;const os=qe,ns=Ee,ue=c.forwardRef(({className:r,...t},s)=>e.jsx(V,{ref:s,className:w("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t}));ue.displayName=V.displayName;const me=c.forwardRef(({className:r,children:t,...s},i)=>e.jsxs(ns,{children:[e.jsx(ue,{}),e.jsxs(B,{ref:i,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s,children:[t,e.jsxs(_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));me.displayName=B.displayName;const pe=({className:r,...t})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",r),...t});pe.displayName="DialogHeader";const xe=c.forwardRef(({className:r,...t},s)=>e.jsx(G,{ref:s,className:w("text-lg font-semibold leading-none tracking-tight",r),...t}));xe.displayName=G.displayName;const fe=c.forwardRef(({className:r,...t},s)=>e.jsx(K,{ref:s,className:w("text-sm text-muted-foreground",r),...t}));fe.displayName=K.displayName;const is="https://connect.squareup.com",ge="",he="",ye="sandbox";function ve(){const r=[];return r.push("Square Application ID is missing"),r.push("Square Location ID is missing"),{valid:r.length===0,errors:r}}if(typeof window<"u"){const r=ve();r.valid?(console.log(`[Square] Configuration loaded - Environment: ${ye}`),console.log(`[Square] Application ID: ${ge.substring(0,10)}...`),console.log(`[Square] Location ID: ${he}`)):console.warn("[Square] Configuration incomplete:",r.errors)}function T(){return{applicationId:ge,locationId:he,environment:ye,apiUrl:is,sdkUrl:"https://sandbox.web.squarecdn.com/v1/square.js"}}function cs(){return ve().valid}class je{constructor(){E(this,"payments",null);E(this,"card",null)}async loadSquareSdk(){if(window.Square)return;const t="https://web.squarecdn.com/v1/square.js";await new Promise((s,i)=>{const o=document.createElement("script");o.src=t,o.async=!0,o.crossOrigin="anonymous",o.onload=()=>{if(!window.Square){i(new Error("Square SDK loaded but window.Square is not available"));return}s()},o.onerror=()=>{i(new Error(`Failed to load Square Web SDK from ${t}`))},document.head.appendChild(o)})}async initialize(){throw window.Square||await this.loadSquareSdk(),console.log("Square initialization:",{applicationId:"missing",locationId:"missing",environment:"production"}),new Error("Square Application ID not configured")}async initializeCard(t){this.payments||await this.initialize();try{if(console.log("Creating Square card form..."),this.card=await this.payments.card(),!this.card)throw new Error("Failed to create Square Card instance");console.log("Card form created, attaching to:",t);const s=`#${t}`;await this.card.attach(s),console.log("Square card form attached successfully")}catch(s){throw console.error("Failed to initialize card form:",s),s}}async tokenizeCard(){if(!this.card)throw new Error("Card form not initialized");try{const t=await this.card.tokenize();if(t.status==="OK"&&t.token)return console.log("Card tokenized successfully"),console.log("Token preview:",t.token.substring(0,20)+"..."),t.token;{const s=t.errors?.[0]?.detail??"Card tokenization failed",i=t.errors?.[0]?.code??"UNKNOWN";throw console.error("Card tokenization failed:",{status:t.status,errors:t.errors,code:i,message:s}),new Error(s)}}catch(t){throw console.error("Error tokenizing card:",t),t}}async processPayment(t,s,i,o){try{const l="/api/square/process-payment";console.log("Processing payment:",{token:t.substring(0,20)+"...",amount:s,orderId:i,apiUrl:l});const n=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_id:t,amount:s,currency:"USD",idempotency_key:i,risk_profile:o})}),d=await n.text(),p=n.headers.get("content-type")||"",x=p.includes("application/json");if(console.log("Payment API response:",{status:n.status,statusText:n.statusText,contentType:p,isJson:x,responseText:d.substring(0,200)}),!x){if(console.error("Payment API returned non-JSON response:",{status:n.status,contentType:p,responseText:d.substring(0,500)}),n.status===404)throw new Error("Payment endpoint not found (404). Please verify the backend is deployed and the route /api/square/process-payment exists.");if(n.status===500){const a=d.match(/FUNCTION_INVOCATION_FAILED|Internal server error|error/i),f=a?`Server error: ${a[0]}`:`Server error (${n.status}). Please check the backend logs.`;throw new Error(f)}throw new Error(`Payment API returned invalid response (${n.status}): ${d.substring(0,100)}`)}let u;try{u=JSON.parse(d)}catch(a){throw console.error("Failed to parse JSON response:",a),console.error("Response text:",d),new Error(`Payment API returned invalid JSON (${n.status}): ${d.substring(0,100)}`)}if(!n.ok)throw console.error("Payment API error:",u),new Error(u.error??`Payment processing failed (${n.status})`);if(u.success)return console.log("Payment processed successfully:",u.paymentId),u;throw new Error(u.error??"Payment failed")}catch(l){throw console.error("Payment processing error:",l),l}}destroy(){this.card&&(this.card.destroy(),this.card=null)}}const R=new je,ls=Object.freeze(Object.defineProperty({__proto__:null,SquarePaymentService:je,squarePaymentService:R},Symbol.toStringTag,{value:"Module"})),ds=({amount:r,onPaymentSuccess:t,onPaymentError:s})=>{const i=c.useRef(null),[o,l]=c.useState(!0),[n,d]=c.useState(!1),[p,x]=c.useState(null);c.useEffect(()=>{let a=!0;const f=async()=>{try{if(console.log("[SquarePaymentForm] Starting initialization..."),!a||(await R.initialize(),console.log("[SquarePaymentForm] Square service initialized"),!a))return;if(!i.current){console.warn("[SquarePaymentForm] Card container not ready");return}await R.initializeCard("sq-card"),console.log("[SquarePaymentForm] Card form initialized"),a&&l(!1)}catch(m){if(console.error("[SquarePaymentForm] Initialization error:",m),a){l(!1);const y=m instanceof Error?m.message:"Failed to initialize payment form";x(y),s(new Error(y))}}},g=setTimeout(()=>{f()},100);return()=>{clearTimeout(g),a=!1,R.destroy()}},[s]);const u=async a=>{if(a.preventDefault(),!n){d(!0),x(null);try{console.log("[SquarePaymentForm] Starting tokenization...");const f=await R.tokenizeCard();console.log("[SquarePaymentForm] Token received:",f.substring(0,20)+"..."),t(f)}catch(f){console.error("[SquarePaymentForm] Tokenization error:",f);const g=f instanceof Error?f.message:"Payment submission failed";x(g),s(new Error(g))}finally{d(!1)}}};return e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Card Information"}),e.jsx("div",{id:"sq-card",ref:i,className:"min-h-[200px] border rounded-lg p-4 bg-background",children:o&&e.jsxs("div",{className:"flex items-center justify-center h-full",children:[e.jsx(D,{className:"h-6 w-6 animate-spin text-muted-foreground"}),e.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading payment form..."})]})}),p&&e.jsx("p",{className:"text-sm text-destructive",children:p})]}),e.jsx(N,{type:"submit",className:"w-full",disabled:o||n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):`Pay $${r.toFixed(2)}`})]})},us=({isOpen:r,onClose:t,depositType:s,riskProfile:i})=>{const[o,l]=c.useState(""),[n,d]=c.useState(!1),[p,x]=c.useState(!1),[u,a]=c.useState(!1),[f,g]=c.useState(null),{toast:m}=X();c.useEffect(()=>{if(r){const h=cs();if(x(h),h){const j=T();console.log("[DepositModal] Square configured:",{environment:j.environment,locationId:j.locationId})}else console.warn("[DepositModal] Square not configured"),m({title:"Square API not configured",description:"Please configure Square API credentials in .env file",variant:"destructive"})}},[r,m]);const y=async()=>{if(!o||parseFloat(o)<=0){m({title:"Invalid amount",description:"Please enter a valid deposit amount",variant:"destructive"});return}const h=s==="usd"?1:.001;if(parseFloat(o)<h){m({title:"Amount too low",description:`Minimum deposit: ${h} ${s==="usd"?"USD":"BTC"}`,variant:"destructive"});return}if(s==="usd"){a(!0);return}d(!0),await processDeposit(null)},v=async h=>{g(h),d(!0);try{const{squarePaymentService:j}=await Oe(async()=>{const{squarePaymentService:be}=await Promise.resolve().then(()=>ls);return{squarePaymentService:be}},void 0),q=`order-${Date.now()}-${Math.random().toString(36).substring(7)}`,M=await j.processPayment(h,parseFloat(o),q,i.id);if(M.success)m({title:"Deposit successful",description:`Payment of $${o} processed successfully!`}),setTimeout(()=>{l(""),d(!1),a(!1),g(null),t()},2e3);else throw new Error(M.error||"Payment processing failed")}catch(j){console.error("Payment processing error:",j);const q=j instanceof Error?j.message:"Failed to process payment. Please try again.";m({title:"Payment failed",description:q,variant:"destructive"}),d(!1),a(!1)}},Ne=h=>{console.error("Payment form error:",h),m({title:"Payment failed",description:h.message||"Failed to process payment. Please try again.",variant:"destructive"}),d(!1),a(!1)};return e.jsx(os,{open:r,onOpenChange:t,children:e.jsxs(me,{className:"sm:max-w-md",children:[e.jsxs(pe,{children:[e.jsx(xe,{children:"Complete Your Deposit"}),e.jsxs(fe,{children:["Deposit ",s==="usd"?"USD":"Bitcoin"," for ",i.name," strategy"]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[p?e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[e.jsx(Ke,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["Square API configured (",T().environment,")"]})]}):e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:[e.jsx(Ge,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Square API not configured - payments will not work"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:i.name}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["Allocation: ",i.allocation]}),e.jsxs("div",{children:["Expected APY: ",i.apy]}),e.jsxs("div",{children:["Leverage: ",i.leverage]})]})]}),!u&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"amount",children:["Deposit Amount (",s==="usd"?"USD":"BTC",")"]}),e.jsx(Me,{id:"amount",type:"number",placeholder:s==="usd"?"1.00":"0.001",value:o,onChange:h=>l(h.target.value),disabled:n,min:s==="usd"?1:.001,step:s==="usd"?.01:1e-4}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Minimum: ",s==="usd"?"$1.00":"0.001 BTC"]})]}),u&&s==="usd"&&o&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-muted",children:e.jsxs("div",{className:"text-sm font-medium",children:["Amount: $",parseFloat(o).toFixed(2)]})}),e.jsx(ds,{amount:parseFloat(o),onPaymentSuccess:v,onPaymentError:Ne})]}),n&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(D,{className:"h-4 w-4 animate-spin"}),"Processing payment..."]}),!u&&e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(N,{variant:"outline",onClick:t,disabled:n,className:"flex-1",children:"Cancel"}),e.jsx(N,{onClick:y,disabled:n||!o||!p,className:"flex-1",children:s==="usd"?"Continue to Payment":"Deposit"})]}),u&&e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(N,{variant:"outline",onClick:()=>{a(!1),d(!1)},disabled:n,className:"flex-1",children:"Back"}),n&&e.jsxs("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing payment..."]})]})]})]})})},U=[{id:"conservative",name:"Conservative",description:"100% USDC on Aave",allocation:"100% USDC",apy:"3-5%",leverage:"1x",color:"bg-green-500/10 text-green-600 border-green-500/20"},{id:"balanced-conservative",name:"Balanced Conservative",description:"75% USDC / 25% GMX 3x BTC Long",allocation:"75% USDC / 25% Lev BTC",apy:"4-7%",leverage:"3x",color:"bg-blue-500/10 text-blue-600 border-blue-500/20"},{id:"balanced",name:"Balanced",description:"50% USDC / 50% GMX 3x BTC Long",allocation:"50% USDC / 50% Lev BTC",apy:"5-10%",leverage:"3x",color:"bg-purple-500/10 text-purple-600 border-purple-500/20"},{id:"aggressive",name:"Aggressive",description:"25% USDC / 75% GMX 3x BTC Long",allocation:"25% USDC / 75% Lev BTC",apy:"6-15%",leverage:"3x",color:"bg-orange-500/10 text-orange-600 border-orange-500/20"},{id:"very-aggressive",name:"Very Aggressive",description:"100% GMX 4-5x BTC Long",allocation:"100% Lev BTC",apy:"8-20%",leverage:"4-5x",color:"bg-red-500/10 text-red-600 border-red-500/20"}],Ns=()=>{const[r,t]=c.useState(null),[s,i]=c.useState(null),[o,l]=c.useState(!1),{toast:n}=X(),d=a=>{t(a),n({title:`${a==="usd"?"USD":"Bitcoin"} deposit selected`,description:"Now select your risk profile below"})},p=a=>{i(a)},x=()=>{if(!r){n({title:"Please select deposit type",description:"Choose USD or Bitcoin deposit method",variant:"destructive"});return}if(!s){n({title:"Please select risk profile",description:"Choose your preferred risk tolerance",variant:"destructive"});return}l(!0)},u=U.find(a=>a.id===s);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[e.jsx("header",{className:"border-b border-border/50 backdrop-blur-sm bg-background/80 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-primary",children:e.jsx(Le,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Stack App"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automated DeFi Leverage"})]})]}),e.jsx(Fe,{to:"/",children:e.jsxs(N,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"}),"Dashboard"]})})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Welcome to Stack App"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-2",children:"Set your risk tolerance, we handle everything else"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automated leverage exposure on GMX + Aave • US-compliant • No KYC required"})]}),e.jsxs(S,{className:"mb-8",children:[e.jsxs(C,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"How would you like to deposit?"]}),e.jsx(z,{children:"Choose your deposit method to get started"})]}),e.jsx(k,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(N,{variant:r==="usd"?"default":"outline",size:"lg",className:"h-24 flex-col gap-2",onClick:()=>d("usd"),children:[e.jsx(Te,{className:"h-8 w-8"}),e.jsx("span",{className:"text-lg font-semibold",children:"Deposit USD"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Credit/Debit Card"})]}),e.jsxs(N,{variant:r==="bitcoin"?"default":"outline",size:"lg",className:"h-24 flex-col gap-2",onClick:()=>d("bitcoin"),children:[e.jsx(Be,{className:"h-8 w-8"}),e.jsx("span",{className:"text-lg font-semibold",children:"Deposit Bitcoin"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Lightning Network"})]})]})})]}),r&&e.jsxs(S,{className:"mb-8",children:[e.jsxs(C,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"Select your risk profile"]}),e.jsx(z,{children:"Choose your preferred risk/return allocation strategy"})]}),e.jsx(k,{children:e.jsx(le,{value:s||"",onValueChange:a=>p(a),className:"space-y-4",children:U.map(a=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{value:a.id,id:a.id,className:"mt-1"}),e.jsx(H,{htmlFor:a.id,className:`flex-1 cursor-pointer p-4 rounded-lg border-2 transition-all ${s===a.id?`${a.color} border-current`:"border-border hover:border-primary/50"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-lg mb-1",children:a.name}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"font-medium",children:["Allocation: ",a.allocation]}),e.jsxs("span",{className:"font-medium",children:["APY: ",a.apy]}),e.jsxs("span",{className:"font-medium",children:["Leverage: ",a.leverage]})]})]})})})]},a.id))})})]}),r&&s&&e.jsx("div",{className:"flex justify-center",children:e.jsxs(N,{size:"lg",className:"px-8 py-6 text-lg",onClick:x,children:["Continue to Deposit",e.jsx($e,{className:"ml-2 h-5 w-5"})]})}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(S,{children:[e.jsx(C,{children:e.jsx(P,{className:"text-sm",children:"US-Compliant"})}),e.jsx(k,{children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Fully accessible to US users with no KYC required for deposits under $10k"})})]}),e.jsxs(S,{children:[e.jsx(C,{children:e.jsx(P,{className:"text-sm",children:"Automated"})}),e.jsx(k,{children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Set your risk tolerance once. We handle all conversions, allocations, and rebalancing automatically."})})]}),e.jsxs(S,{children:[e.jsx(C,{children:e.jsx(P,{className:"text-sm",children:"Risk-Managed"})}),e.jsx(k,{children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatic liquidation prevention and position monitoring to protect your capital"})})]})]})]})}),r&&s&&e.jsx(us,{isOpen:o,onClose:()=>l(!1),depositType:r,riskProfile:u}),e.jsx("footer",{className:"border-t border-border/50 mt-16",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Powered by GMX • Aave V3 • Avalanche C-Chain • Square Payments"}),e.jsx("p",{className:"text-center text-xs text-muted-foreground mt-2",children:"This product involves risk. Automated leverage trading can result in total loss of capital. Not investment advice."})]})})]})};export{Ns as default};
